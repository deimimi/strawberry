!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).List=t()}(this,(function(){"use strict";function e(){}const t=e=>e;function n(e){return e()}function o(){return Object.create(null)}function r(e){e.forEach(n)}function i(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}const l="undefined"!=typeof window;let c=l?()=>window.performance.now():()=>Date.now(),a=l?e=>requestAnimationFrame(e):e;const u=new Set;function d(e){u.forEach(t=>{t.c(e)||(u.delete(t),t.f())}),0!==u.size&&a(d)}function f(e,t){e.appendChild(t)}function p(e,t,n){e.insertBefore(t,n||null)}function m(e){e.parentNode.removeChild(e)}function b(e){return document.createElement(e)}function h(){return e=" ",document.createTextNode(e);var e}function g(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function y(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function $(e,t,n){e.classList[n?"add":"remove"](t)}let w,x,v=0,k={};function T(e,t,n,o,r,i,s,l=0){const c=16.666/o;let a="{\n";for(let e=0;e<=1;e+=c){const o=t+(n-t)*i(e);a+=100*e+`%{${s(o,1-o)}}\n`}const u=a+`100% {${s(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${l}`;if(!k[d]){if(!w){const e=b("style");document.head.appendChild(e),w=e.sheet}k[d]=!0,w.insertRule(`@keyframes ${d} ${u}`,w.cssRules.length)}const f=e.style.animation||"";return e.style.animation=`${f?`${f}, `:""}${d} ${o}ms linear ${r}ms 1 both`,v+=1,d}function _(e,t){e.style.animation=(e.style.animation||"").split(", ").filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")).join(", "),t&&!--v&&a(()=>{if(v)return;let e=w.cssRules.length;for(;e--;)w.deleteRule(e);k={}})}function E(e){x=e}function M(e){(function(){if(!x)throw new Error("Function called outside component initialization");return x})().$$.on_destroy.push(e)}const A=[],C=[],L=[],z=[],F=Promise.resolve();let S,O=!1;function N(e){L.push(e)}function j(){const e=new Set;do{for(;A.length;){const e=A.shift();E(e),B(e.$$)}for(;C.length;)C.pop()();for(let t=0;t<L.length;t+=1){const n=L[t];e.has(n)||(n(),e.add(n))}L.length=0}while(A.length);for(;z.length;)z.pop()();O=!1}function B(e){null!==e.fragment&&(e.update(),r(e.before_update),e.fragment&&e.fragment.p(e.ctx,e.dirty),e.dirty=[-1],e.after_update.forEach(N))}function D(e,t,n){e.dispatchEvent(function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(`${t?"intro":"outro"}${n}`))}const P=new Set;let R;function H(e,t){e&&e.i&&(P.delete(e),e.i(t))}function W(e,t,n,o){if(e&&e.o){if(P.has(e))return;P.add(e),R.c.push(()=>{P.delete(e),o&&(n&&e.d(1),o())}),e.o(t)}}const q={duration:0};function I(n,o,s,l){let f=o(n,s),p=l?0:1,m=null,b=null,h=null;function g(){h&&_(n,h)}function y(e,t){const n=e.b-p;return t*=Math.abs(n),{a:p,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function $(o){const{delay:i=0,duration:s=300,easing:l=t,tick:$=e,css:w}=f||q,x={start:c()+i,b:o};o||(x.group=R,R.r+=1),m?b=x:(w&&(g(),h=T(n,p,o,s,i,l,w)),o&&$(0,1),m=y(x,s),N(()=>D(n,o,"start")),function(e){let t;0===u.size&&a(d),new Promise(n=>{u.add(t={c:e,f:n})})}(e=>{if(b&&e>b.start&&(m=y(b,s),b=null,D(n,m.b,"start"),w&&(g(),h=T(n,p,m.b,m.duration,0,l,f.css))),m)if(e>=m.end)$(p=m.b,1-p),D(n,m.b,"end"),b||(m.b?g():--m.group.r||r(m.group.c)),m=null;else if(e>=m.start){const t=e-m.start;p=m.a+m.d*l(t/m.duration),$(p,1-p)}return!(!m&&!b)}))}return{run(e){i(f)?(S||(S=Promise.resolve(),S.then(()=>{S=null})),S).then(()=>{f=f(),$(e)}):$(e)},end(){g(),m=b=null}}}function G(e,t){W(e,1,1,()=>{t.delete(e.key)})}function J(e,t){-1===e.$$.dirty[0]&&(A.push(e),O||(O=!0,F.then(j)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function K(t,s,l,c,a,u,d=[-1]){const f=x;E(t);const p=s.props||{},m=t.$$={fragment:null,ctx:null,props:u,update:e,not_equal:a,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:o(),dirty:d};let b=!1;m.ctx=l?l(t,p,(e,n,o=n)=>(m.ctx&&a(m.ctx[e],m.ctx[e]=o)&&(m.bound[e]&&m.bound[e](o),b&&J(t,e)),n)):[],m.update(),b=!0,r(m.before_update),m.fragment=!!c&&c(m.ctx),s.target&&(s.hydrate?m.fragment&&m.fragment.l(function(e){return Array.from(e.childNodes)}(s.target)):m.fragment&&m.fragment.c(),s.intro&&H(t.$$.fragment),function(e,t,o){const{fragment:s,on_mount:l,on_destroy:c,after_update:a}=e.$$;s&&s.m(t,o),N(()=>{const t=l.map(n).filter(i);c?c.push(...t):r(t),e.$$.on_mount=[]}),a.forEach(N)}(t,s.target,s.anchor),j()),E(f)}let Q;"function"==typeof HTMLElement&&(Q=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){for(const e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(e,t,n){this[e]=n}$destroy(){!function(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}});var U="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function V(){throw new Error("setTimeout has not been defined")}function X(){throw new Error("clearTimeout has not been defined")}var Y=V,Z=X;function ee(e){if(Y===setTimeout)return setTimeout(e,0);if((Y===V||!Y)&&setTimeout)return Y=setTimeout,setTimeout(e,0);try{return Y(e,0)}catch(t){try{return Y.call(null,e,0)}catch(t){return Y.call(this,e,0)}}}"function"==typeof U.setTimeout&&(Y=setTimeout),"function"==typeof U.clearTimeout&&(Z=clearTimeout);var te,ne=[],oe=!1,re=-1;function ie(){oe&&te&&(oe=!1,te.length?ne=te.concat(ne):re=-1,ne.length&&se())}function se(){if(!oe){var e=ee(ie);oe=!0;for(var t=ne.length;t;){for(te=ne,ne=[];++re<t;)te&&te[re].run();re=-1,t=ne.length}te=null,oe=!1,function(e){if(Z===clearTimeout)return clearTimeout(e);if((Z===X||!Z)&&clearTimeout)return Z=clearTimeout,clearTimeout(e);try{Z(e)}catch(t){try{return Z.call(null,e)}catch(t){return Z.call(this,e)}}}(e)}}function le(e,t){this.fun=e,this.array=t}le.prototype.run=function(){this.fun.apply(null,this.array)};function ce(){}var ae=ce,ue=ce,de=ce,fe=ce,pe=ce,me=ce,be=ce;var he=U.performance||{},ge=he.now||he.mozNow||he.msNow||he.oNow||he.webkitNow||function(){return(new Date).getTime()};var ye=new Date;var $e={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];ne.push(new le(e,t)),1!==ne.length||oe||ee(se)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:ae,addListener:ue,once:de,off:fe,removeListener:pe,removeAllListeners:me,emit:be,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*ge.call(he),n=Math.floor(t),o=Math.floor(t%1*1e9);return e&&(n-=e[0],(o-=e[1])<0&&(n--,o+=1e9)),[n,o]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-ye)/1e3}};let we=!1,xe=!1,ve=!1,ke=!1;const Te=void 0!==$e&&void 0!==$e.versions&&void 0!==$e.versions.electron&&"renderer"===$e.type;if("object"!=typeof navigator||Te)"object"==typeof $e&&(we="win32"===$e.platform,xe="darwin"===$e.platform,ve="linux"===$e.platform);else{const e=navigator.userAgent;we=e.indexOf("Windows")>=0,xe=e.indexOf("Macintosh")>=0,ve=e.indexOf("Linux")>=0,ke=e.indexOf("iPad")>=0}const _e=xe;function Ee(e){const t=e-1;return t*t*t+1}function Me(e,{delay:t=0,duration:n=400,easing:o=Ee}){const r=getComputedStyle(e),i=+r.opacity,s=parseFloat(r.height),l=parseFloat(r.paddingTop),c=parseFloat(r.paddingBottom),a=parseFloat(r.marginTop),u=parseFloat(r.marginBottom),d=parseFloat(r.borderTopWidth),f=parseFloat(r.borderBottomWidth);return{delay:t,duration:n,easing:o,css:e=>"overflow: hidden;"+`opacity: ${Math.min(20*e,1)*i};`+`height: ${e*s}px;`+`padding-top: ${e*l}px;`+`padding-bottom: ${e*c}px;`+`margin-top: ${e*a}px;`+`margin-bottom: ${e*u}px;`+`border-top-width: ${e*d}px;`+`border-bottom-width: ${e*f}px;`}}function Ae(e,t,n){const o=e.slice();return o[24]=t[n],o[26]=n,o}function Ce(e){let t;return{c(){t=b("slot"),y(t,"name","empty")},m(e,n){p(e,t,n)},d(e){e&&m(t)}}}function Le(e,t){let n,o,i,s,l,c,a;function u(...e){return t[21](t[26],...e)}function d(...e){return t[22](t[26],...e)}function w(...e){return t[23](t[26],...e)}return{key:e,first:null,c(){n=b("div"),o=b("slot"),s=h(),y(o,"name","item"),y(o,"item",i={...t[24],index:t[26]}),y(n,"class","berry-list-item"),y(n,"tabindex","0"),$(n,"border",t[1]),$(n,"border-no-radius",t[1]&&!t[24].selected),$(n,"border-top",t[1]&&!t[24].selected&&0===t[26]),$(n,"border-bottom",t[1]&&t[5](t[26])),$(n,"cornered-top",t[24].selected&&t[6](t[26])),$(n,"cornered-bottom",t[24].selected&&t[7](t[26])),$(n,"focus-ring",t[2]&&t[24].focused),$(n,"selected",t[24].selected),a=[g(n,"blur",(function(){u.apply(this,arguments)})),g(n,"click",d),g(n,"focus",w),g(n,"keydown",t[8]),g(n,"keyup",t[9])],this.first=n},m(e,t){p(e,n,t),f(n,o),f(n,s),c=!0},p(e,r){t=e,(!c||1&r[0]&&i!==(i={...t[24],index:t[26]}))&&y(o,"item",i),2&r[0]&&$(n,"border",t[1]),3&r[0]&&$(n,"border-no-radius",t[1]&&!t[24].selected),3&r[0]&&$(n,"border-top",t[1]&&!t[24].selected&&0===t[26]),35&r[0]&&$(n,"border-bottom",t[1]&&t[5](t[26])),65&r[0]&&$(n,"cornered-top",t[24].selected&&t[6](t[26])),129&r[0]&&$(n,"cornered-bottom",t[24].selected&&t[7](t[26])),5&r[0]&&$(n,"focus-ring",t[2]&&t[24].focused),1&r[0]&&$(n,"selected",t[24].selected)},i(e){c||(N(()=>{l||(l=I(n,Me,{},!0)),l.run(1)}),c=!0)},o(e){l||(l=I(n,Me,{},!1)),l.run(0),c=!1},d(e){e&&m(n),e&&l&&l.end(),r(a)}}}function ze(t){let n,o,i=[],s=new Map,l=t[0];const c=e=>e[26];for(let e=0;e<l.length;e+=1){let n=Ae(t,l,e),o=c(n);s.set(o,i[e]=Le(o,n))}let a=null;return l.length||(a=Ce(),a.c()),{c(){n=b("div");for(let e=0;e<i.length;e+=1)i[e].c();this.c=e,y(n,"class","berry-list")},m(e,t){p(e,n,t);for(let e=0;e<i.length;e+=1)i[e].m(n,null);a&&a.m(n,null),o=!0},p(e,t){const o=e[0];R={r:0,c:[],p:R},i=function(e,t,n,o,r,i,s,l,c,a,u,d){let f=e.length,p=i.length,m=f;const b={};for(;m--;)b[e[m].key]=m;const h=[],g=new Map,y=new Map;for(m=p;m--;){const e=d(r,i,m),l=n(e);let c=s.get(l);c?o&&c.p(e,t):(c=a(l,e),c.c()),g.set(l,h[m]=c),l in b&&y.set(l,Math.abs(m-b[l]))}const $=new Set,w=new Set;function x(e){H(e,1),e.m(l,u),s.set(e.key,e),u=e.first,p--}for(;f&&p;){const t=h[p-1],n=e[f-1],o=t.key,r=n.key;t===n?(u=t.first,f--,p--):g.has(r)?!s.has(o)||$.has(o)?x(t):w.has(r)?f--:y.get(o)>y.get(r)?(w.add(o),x(t)):($.add(r),f--):(c(n,s),f--)}for(;f--;){const t=e[f];g.has(t.key)||c(t,s)}for(;p;)x(h[p-1]);return h}(i,t,c,1,e,o,s,n,G,Le,null,Ae),R.r||r(R.c),R=R.p,o.length?a&&(a.d(1),a=null):a||(a=Ce(),a.c(),a.m(n,null))},i(e){if(!o){for(let e=0;e<l.length;e+=1)H(i[e]);o=!0}},o(e){for(let e=0;e<i.length;e+=1)W(i[e]);o=!1},d(e){e&&m(n);for(let e=0;e<i.length;e+=1)i[e].d();a&&a.d()}}}function Fe(e){return _e&&"Meta"===e.key||"Control"===e.key}function Se(e,t,n){let{items:o=[]}=t,{border:r=!1}=t,{deletable:i=!1}=t,s=!1,l=!1,c=!1,a=!1,u=!1,d=null,f=(e,t)=>{y||t.target.contains(t.relatedTarget)||(t.relatedTarget?n(0,o=o.map((t,n)=>(e===n&&(t.selected=!1),t.focused=e===n,t))):p())};function p(){n(0,o=o.map(e=>(e.selected=!1,e.focused=!1,e))),n(13,c=!1),n(15,u=!1),s=!1,n(12,l=!1),n(14,a=!1),d=null}function m(e){n(0,o=o.map((t,n)=>(e===n&&(t.selected=!t.selected),t.focused=e===n,t)))}function b(e){n(0,o=o.map((t,n)=>(t.selected=e===n,t.focused=e===n,t)))}function h(e){let t=o.findIndex(e=>e.focused);if(t>-1){if(null!==d){const[e,r]=[t,d].sort();for(let t=e;t<r+1;t++)n(0,o[t].selected=!1,o)}const[r,i]=[t,e].sort();for(let e=r;e<i+1;e++)n(0,o[e].selected=!0,o)}else b()}let g=e=>{o[e].dirty||(n(0,o[e].dirty=!0,o),setTimeout(()=>delete o[e].dirty,80),n(13,c=c&&!u&&!s),n(15,u=!c&&u&&!s),s=!c&&!u&&s,c?m(e):u?h(e):b(e),d=u?e:null)};M(()=>{p()});let y;return e.$set=e=>{"items"in e&&n(0,o=e.items),"border"in e&&n(1,r=e.border),"deletable"in e&&n(10,i=e.deletable)},e.$$.update=()=>{40960&e.$$.dirty[0]&&n(2,y=c||u),21505&e.$$.dirty[0]&&i&&(l||a)&&n(0,o=o.filter(e=>!e.selected))},[o,r,y,f,g,e=>{let t=o[e].selected,n=o[e+1]&&o[e+1].selected;return!(t||n)},e=>{return!(0===e||o[e-1]&&!o[e-1].selected)},e=>{return!(e===o.length-1||o[e+1]&&!o[e+1].selected)},function(e){switch(e.stopPropagation(),Fe(e)&&n(13,c=!0),e.key){case"Alt":s=!0;break;case"Backspace":n(12,l=!0);break;case"Delete":n(14,a=!0);break;case"Shift":n(15,u=!0)}},function(e){switch(e.stopPropagation(),Fe(e)&&n(13,c=!1),e.key){case"Alt":s=!1;break;case"Backspace":n(12,l=!1);break;case"Delete":n(14,a=!1);break;case"Shift":n(15,u=!1)}},i,s,l,c,a,u,d,p,m,b,h,(e,t)=>f(e,t),e=>g(e),e=>g(e)]}class Oe extends Q{constructor(e){super(),this.shadowRoot.innerHTML="<style>*,:host *{box-sizing:border-box}.berry-list{display:-webkit-box;display:flex;-webkit-box-flex:1;flex:auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.berry-list-item,.berry-list-item>:global(*){padding:10px;outline:none;cursor:pointer;-webkit-transition:all .25s ease;transition:all .25s ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative}.berry-list-item:not(.border-no-radius),.berry-list-item>:global(*){border-radius:4px}.berry-list-item>:global(*){margin:-10px}.border{border-top:1px solid transparent;border-bottom:1px solid transparent}.border-top{border-top-color:#c3c3c3}.border-bottom{border-bottom-color:#c3c3c3}.selected{background-color:#dcebff;color:#196eff}.selected.cornered-top{border-top-left-radius:0;border-top-right-radius:0}.selected.cornered-bottom{border-bottom-left-radius:0;border-bottom-right-radius:0}.focus-ring{box-shadow:0 0 3px #196eff;border-radius:4px;z-index:1}.focus-ring.cornered-bottom{box-shadow:0 0 3px #196eff;border-radius:4px;z-index:1}.focus-ring.cornered-top{box-shadow:0 0 3px #196eff;border-radius:4px;z-index:1}</style>",K(this,{target:this.shadowRoot},Se,ze,s,{items:0,border:1,deletable:10}),e&&(e.target&&p(e.target,this,e.anchor),e.props&&(this.$set(e.props),j()))}static get observedAttributes(){return["items","border","deletable"]}get items(){return this.$$.ctx[0]}set items(e){this.$set({items:e}),j()}get border(){return this.$$.ctx[1]}set border(e){this.$set({border:e}),j()}get deletable(){return this.$$.ctx[10]}set deletable(e){this.$set({deletable:e}),j()}}return customElements.define("berry-list",Oe),Oe}));
