!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).List=t()}(this,(function(){"use strict";function e(){}const t=e=>e;function n(e){return e()}function o(){return Object.create(null)}function r(e){e.forEach(n)}function i(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}const l="undefined"!=typeof window;let c=l?()=>window.performance.now():()=>Date.now(),a=l?e=>requestAnimationFrame(e):e;const u=new Set;function d(e){u.forEach(t=>{t.c(e)||(u.delete(t),t.f())}),0!==u.size&&a(d)}function f(e,t){e.appendChild(t)}function p(e,t,n){e.insertBefore(t,n||null)}function h(e){e.parentNode.removeChild(e)}function m(e){return document.createElement(e)}function b(){return e=" ",document.createTextNode(e);var e}function g(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function y(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function $(e,t,n){e.classList[n?"add":"remove"](t)}const w=new Set;let x,v=0;function _(e,t,n,o,r,i,s,l=0){const c=16.666/o;let a="{\n";for(let e=0;e<=1;e+=c){const o=t+(n-t)*i(e);a+=100*e+`%{${s(o,1-o)}}\n`}const u=a+`100% {${s(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${l}`,f=e.ownerDocument;w.add(f);const p=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(m("style")).sheet),h=f.__svelte_rules||(f.__svelte_rules={});h[d]||(h[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const b=e.style.animation||"";return e.style.animation=`${b?`${b}, `:""}${d} ${o}ms linear ${r}ms 1 both`,v+=1,d}function k(e,t){const n=(e.style.animation||"").split(", "),o=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),r=n.length-o.length;r&&(e.style.animation=o.join(", "),v-=r,v||a(()=>{v||(w.forEach(e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}}),w.clear())}))}function T(e){x=e}function E(e){(function(){if(!x)throw new Error("Function called outside component initialization");return x})().$$.on_destroy.push(e)}const M=[],A=[],C=[],L=[],S=Promise.resolve();let z=!1;function F(e){C.push(e)}let O=!1;const D=new Set;function N(){if(!O){O=!0;do{for(let e=0;e<M.length;e+=1){const t=M[e];T(t),j(t.$$)}for(M.length=0;A.length;)A.pop()();for(let e=0;e<C.length;e+=1){const t=C[e];D.has(t)||(D.add(t),t())}C.length=0}while(M.length);for(;L.length;)L.pop()();z=!1,O=!1,D.clear()}}function j(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(F)}}let B;function P(e,t,n){e.dispatchEvent(function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(`${t?"intro":"outro"}${n}`))}const R=new Set;let H;function W(e,t){e&&e.i&&(R.delete(e),e.i(t))}function q(e,t,n,o){if(e&&e.o){if(R.has(e))return;R.add(e),H.c.push(()=>{R.delete(e),o&&(n&&e.d(1),o())}),e.o(t)}}const I={duration:0};function G(n,o,s,l){let f=o(n,s),p=l?0:1,h=null,m=null,b=null;function g(){b&&k(n,b)}function y(e,t){const n=e.b-p;return t*=Math.abs(n),{a:p,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function $(o){const{delay:i=0,duration:s=300,easing:l=t,tick:$=e,css:w}=f||I,x={start:c()+i,b:o};o||(x.group=H,H.r+=1),h?m=x:(w&&(g(),b=_(n,p,o,s,i,l,w)),o&&$(0,1),h=y(x,s),F(()=>P(n,o,"start")),function(e){let t;0===u.size&&a(d),new Promise(n=>{u.add(t={c:e,f:n})})}(e=>{if(m&&e>m.start&&(h=y(m,s),m=null,P(n,h.b,"start"),w&&(g(),b=_(n,p,h.b,h.duration,0,l,f.css))),h)if(e>=h.end)$(p=h.b,1-p),P(n,h.b,"end"),m||(h.b?g():--h.group.r||r(h.group.c)),h=null;else if(e>=h.start){const t=e-h.start;p=h.a+h.d*l(t/h.duration),$(p,1-p)}return!(!h&&!m)}))}return{run(e){i(f)?(B||(B=Promise.resolve(),B.then(()=>{B=null})),B).then(()=>{f=f(),$(e)}):$(e)},end(){g(),h=m=null}}}function J(e,t){q(e,1,1,()=>{t.delete(e.key)})}function K(e,t){-1===e.$$.dirty[0]&&(M.push(e),z||(z=!0,S.then(N)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Q(t,s,l,c,a,u,d=[-1]){const f=x;T(t);const p=s.props||{},m=t.$$={fragment:null,ctx:null,props:u,update:e,not_equal:a,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:o(),dirty:d};let b=!1;if(m.ctx=l?l(t,p,(e,n,...o)=>{const r=o.length?o[0]:n;return m.ctx&&a(m.ctx[e],m.ctx[e]=r)&&(m.bound[e]&&m.bound[e](r),b&&K(t,e)),n}):[],m.update(),b=!0,r(m.before_update),m.fragment=!!c&&c(m.ctx),s.target){if(s.hydrate){const e=function(e){return Array.from(e.childNodes)}(s.target);m.fragment&&m.fragment.l(e),e.forEach(h)}else m.fragment&&m.fragment.c();s.intro&&W(t.$$.fragment),function(e,t,o){const{fragment:s,on_mount:l,on_destroy:c,after_update:a}=e.$$;s&&s.m(t,o),F(()=>{const t=l.map(n).filter(i);c?c.push(...t):r(t),e.$$.on_mount=[]}),a.forEach(F)}(t,s.target,s.anchor),N()}T(f)}let U;"function"==typeof HTMLElement&&(U=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){for(const e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(e,t,n){this[e]=n}$destroy(){!function(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}});var V="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function X(){throw new Error("setTimeout has not been defined")}function Y(){throw new Error("clearTimeout has not been defined")}var Z=X,ee=Y;function te(e){if(Z===setTimeout)return setTimeout(e,0);if((Z===X||!Z)&&setTimeout)return Z=setTimeout,setTimeout(e,0);try{return Z(e,0)}catch(t){try{return Z.call(null,e,0)}catch(t){return Z.call(this,e,0)}}}"function"==typeof V.setTimeout&&(Z=setTimeout),"function"==typeof V.clearTimeout&&(ee=clearTimeout);var ne,oe=[],re=!1,ie=-1;function se(){re&&ne&&(re=!1,ne.length?oe=ne.concat(oe):ie=-1,oe.length&&le())}function le(){if(!re){var e=te(se);re=!0;for(var t=oe.length;t;){for(ne=oe,oe=[];++ie<t;)ne&&ne[ie].run();ie=-1,t=oe.length}ne=null,re=!1,function(e){if(ee===clearTimeout)return clearTimeout(e);if((ee===Y||!ee)&&clearTimeout)return ee=clearTimeout,clearTimeout(e);try{ee(e)}catch(t){try{return ee.call(null,e)}catch(t){return ee.call(this,e)}}}(e)}}function ce(e,t){this.fun=e,this.array=t}ce.prototype.run=function(){this.fun.apply(null,this.array)};function ae(){}var ue=ae,de=ae,fe=ae,pe=ae,he=ae,me=ae,be=ae;var ge=V.performance||{},ye=ge.now||ge.mozNow||ge.msNow||ge.oNow||ge.webkitNow||function(){return(new Date).getTime()};var $e=new Date;var we={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];oe.push(new ce(e,t)),1!==oe.length||re||te(le)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:ue,addListener:de,once:fe,off:pe,removeListener:he,removeAllListeners:me,emit:be,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*ye.call(ge),n=Math.floor(t),o=Math.floor(t%1*1e9);return e&&(n-=e[0],(o-=e[1])<0&&(n--,o+=1e9)),[n,o]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-$e)/1e3}};let xe=!1,ve=!1,_e=!1,ke=!1;const Te=void 0!==we&&void 0!==we.versions&&void 0!==we.versions.electron&&"renderer"===we.type;if("object"!=typeof navigator||Te)"object"==typeof we&&(xe="win32"===we.platform,ve="darwin"===we.platform,_e="linux"===we.platform);else{const e=navigator.userAgent;xe=e.indexOf("Windows")>=0,ve=e.indexOf("Macintosh")>=0,_e=e.indexOf("Linux")>=0,ke=e.indexOf("iPad")>=0}const Ee=ve;function Me(e){const t=e-1;return t*t*t+1}function Ae(e,{delay:t=0,duration:n=400,easing:o=Me}){const r=getComputedStyle(e),i=+r.opacity,s=parseFloat(r.height),l=parseFloat(r.paddingTop),c=parseFloat(r.paddingBottom),a=parseFloat(r.marginTop),u=parseFloat(r.marginBottom),d=parseFloat(r.borderTopWidth),f=parseFloat(r.borderBottomWidth);return{delay:t,duration:n,easing:o,css:e=>"overflow: hidden;"+`opacity: ${Math.min(20*e,1)*i};`+`height: ${e*s}px;`+`padding-top: ${e*l}px;`+`padding-bottom: ${e*c}px;`+`margin-top: ${e*a}px;`+`margin-bottom: ${e*u}px;`+`border-top-width: ${e*d}px;`+`border-bottom-width: ${e*f}px;`}}function Ce(e,t,n){const o=e.slice();return o[24]=t[n],o[26]=n,o}function Le(e){let t;return{c(){t=m("slot"),y(t,"name","empty")},m(e,n){p(e,t,n)},d(e){e&&h(t)}}}function Se(e,t){let n,o,i,s,l,c,a;function u(...e){return t[21](t[26],...e)}function d(...e){return t[22](t[26],...e)}function w(...e){return t[23](t[26],...e)}return{key:e,first:null,c(){n=m("div"),o=m("slot"),s=b(),y(o,"name","item"),y(o,"item",i={...t[24],index:t[26]}),y(n,"class","berry-list-item"),y(n,"tabindex","0"),$(n,"border",t[1]),$(n,"border-no-radius",t[1]&&!t[24].selected),$(n,"border-top",t[1]&&!t[24].selected&&0===t[26]),$(n,"border-bottom",t[1]&&t[5](t[26])),$(n,"cornered-top",t[24].selected&&t[6](t[26])),$(n,"cornered-bottom",t[24].selected&&t[7](t[26])),$(n,"focus-ring",t[2]&&t[24].focused),$(n,"selected",t[24].selected),this.first=n},m(e,i,l){p(e,n,i),f(n,o),f(n,s),c=!0,l&&r(a),a=[g(n,"blur",u),g(n,"click",d),g(n,"focus",w),g(n,"keydown",t[8]),g(n,"keyup",t[9])]},p(e,r){t=e,(!c||1&r&&i!==(i={...t[24],index:t[26]}))&&y(o,"item",i),2&r&&$(n,"border",t[1]),3&r&&$(n,"border-no-radius",t[1]&&!t[24].selected),3&r&&$(n,"border-top",t[1]&&!t[24].selected&&0===t[26]),35&r&&$(n,"border-bottom",t[1]&&t[5](t[26])),65&r&&$(n,"cornered-top",t[24].selected&&t[6](t[26])),129&r&&$(n,"cornered-bottom",t[24].selected&&t[7](t[26])),5&r&&$(n,"focus-ring",t[2]&&t[24].focused),1&r&&$(n,"selected",t[24].selected)},i(e){c||(F(()=>{l||(l=G(n,Ae,{},!0)),l.run(1)}),c=!0)},o(e){l||(l=G(n,Ae,{},!1)),l.run(0),c=!1},d(e){e&&h(n),e&&l&&l.end(),r(a)}}}function ze(t){let n,o,i=[],s=new Map,l=t[0];const c=e=>e[26];for(let e=0;e<l.length;e+=1){let n=Ce(t,l,e),o=c(n);s.set(o,i[e]=Se(o,n))}let a=null;return l.length||(a=Le()),{c(){n=m("div");for(let e=0;e<i.length;e+=1)i[e].c();a&&a.c(),this.c=e,y(n,"class","berry-list")},m(e,t){p(e,n,t);for(let e=0;e<i.length;e+=1)i[e].m(n,null);a&&a.m(n,null),o=!0},p(e,[t]){if(1023&t){const o=e[0];H={r:0,c:[],p:H},i=function(e,t,n,o,r,i,s,l,c,a,u,d){let f=e.length,p=i.length,h=f;const m={};for(;h--;)m[e[h].key]=h;const b=[],g=new Map,y=new Map;for(h=p;h--;){const e=d(r,i,h),l=n(e);let c=s.get(l);c?o&&c.p(e,t):(c=a(l,e),c.c()),g.set(l,b[h]=c),l in m&&y.set(l,Math.abs(h-m[l]))}const $=new Set,w=new Set;function x(e){W(e,1),e.m(l,u,s.has(e.key)),s.set(e.key,e),u=e.first,p--}for(;f&&p;){const t=b[p-1],n=e[f-1],o=t.key,r=n.key;t===n?(u=t.first,f--,p--):g.has(r)?!s.has(o)||$.has(o)?x(t):w.has(r)?f--:y.get(o)>y.get(r)?(w.add(o),x(t)):($.add(r),f--):(c(n,s),f--)}for(;f--;){const t=e[f];g.has(t.key)||c(t,s)}for(;p;)x(b[p-1]);return b}(i,t,c,1,e,o,s,n,J,Se,null,Ce),H.r||r(H.c),H=H.p,o.length?a&&(a.d(1),a=null):a||(a=Le(),a.c(),a.m(n,null))}},i(e){if(!o){for(let e=0;e<l.length;e+=1)W(i[e]);o=!0}},o(e){for(let e=0;e<i.length;e+=1)q(i[e]);o=!1},d(e){e&&h(n);for(let e=0;e<i.length;e+=1)i[e].d();a&&a.d()}}}function Fe(e){return Ee&&"Meta"===e.key||"Control"===e.key}function Oe(e,t,n){let{items:o=[]}=t,{border:r=!1}=t,{deletable:i=!1}=t,s=!1,l=!1,c=!1,a=!1,u=!1,d=null,f=(e,t)=>{y||t.target.contains(t.relatedTarget)||(t.relatedTarget?n(0,o=o.map((t,n)=>(e===n&&(t.selected=!1),t.focused=e===n,t))):p())};function p(){n(0,o=o.map(e=>(e.selected=!1,e.focused=!1,e))),n(13,c=!1),n(15,u=!1),s=!1,n(12,l=!1),n(14,a=!1),d=null}function h(e){n(0,o=o.map((t,n)=>(e===n&&(t.selected=!t.selected),t.focused=e===n,t)))}function m(e){n(0,o=o.map((t,n)=>(t.selected=e===n,t.focused=e===n,t)))}function b(e){let t=o.findIndex(e=>e.focused);if(t>-1){if(null!==d){const[e,r]=[t,d].sort();for(let t=e;t<r+1;t++)n(0,o[t].selected=!1,o)}const[r,i]=[t,e].sort();for(let e=r;e<i+1;e++)n(0,o[e].selected=!0,o)}else m()}let g=e=>{o[e].dirty||(n(0,o[e].dirty=!0,o),setTimeout(()=>delete o[e].dirty,80),n(13,c=c&&!u&&!s),n(15,u=!c&&u&&!s),s=!c&&!u&&s,c?h(e):u?b(e):m(e),d=u?e:null)};E(()=>{p()});let y;return e.$set=e=>{"items"in e&&n(0,o=e.items),"border"in e&&n(1,r=e.border),"deletable"in e&&n(10,i=e.deletable)},e.$$.update=()=>{40960&e.$$.dirty&&n(2,y=c||u),21505&e.$$.dirty&&i&&(l||a)&&n(0,o=o.filter(e=>!e.selected))},[o,r,y,f,g,e=>{let t=o[e].selected,n=o[e+1]&&o[e+1].selected;return!(t||n)},e=>{return!(0===e||o[e-1]&&!o[e-1].selected)},e=>{return!(e===o.length-1||o[e+1]&&!o[e+1].selected)},function(e){switch(e.stopPropagation(),Fe(e)&&n(13,c=!0),e.key){case"Alt":s=!0;break;case"Backspace":n(12,l=!0);break;case"Delete":n(14,a=!0);break;case"Shift":n(15,u=!0)}},function(e){switch(e.stopPropagation(),Fe(e)&&n(13,c=!1),e.key){case"Alt":s=!1;break;case"Backspace":n(12,l=!1);break;case"Delete":n(14,a=!1);break;case"Shift":n(15,u=!1)}},i,s,l,c,a,u,d,p,h,m,b,(e,t)=>f(e,t),e=>g(e),e=>g(e)]}class De extends U{constructor(e){super(),this.shadowRoot.innerHTML="<style>*,:host *{box-sizing:border-box}.berry-list{display:flex;flex:auto;flex-direction:column}.berry-list-item,.berry-list-item>:global(*){padding:10px;outline:none;cursor:pointer;transition:all .25s ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative}.berry-list-item:not(.border-no-radius){border-radius:4px}.berry-list-item>:global(*){border-radius:4px}.berry-list-item>:global(*){margin:-10px}.border{border-top:1px solid transparent;border-bottom:1px solid transparent}.border-top{border-top-color:#c3c3c3}.border-bottom{border-bottom-color:#c3c3c3}.selected{background-color:#dcebff;color:#196eff}.selected.cornered-top{border-top-left-radius:0;border-top-right-radius:0}.selected.cornered-bottom{border-bottom-left-radius:0;border-bottom-right-radius:0}.focus-ring{box-shadow:0 0 3px #196eff;border-radius:4px;z-index:1}.focus-ring.cornered-bottom{box-shadow:0 0 3px #196eff;border-radius:4px;z-index:1}.focus-ring.cornered-top{box-shadow:0 0 3px #196eff;border-radius:4px;z-index:1}</style>",Q(this,{target:this.shadowRoot},Oe,ze,s,{items:0,border:1,deletable:10}),e&&(e.target&&p(e.target,this,e.anchor),e.props&&(this.$set(e.props),N()))}static get observedAttributes(){return["items","border","deletable"]}get items(){return this.$$.ctx[0]}set items(e){this.$set({items:e}),N()}get border(){return this.$$.ctx[1]}set border(e){this.$set({border:e}),N()}get deletable(){return this.$$.ctx[10]}set deletable(e){this.$set({deletable:e}),N()}}return customElements.define("berry-list",De),De}));
